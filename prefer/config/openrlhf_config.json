{
  "model": {
    "pretrain": "./models/Llama-3-8b-sft-mixture",
    "ref_pretrain": "./models/Llama-3-8b-sft-mixture"
  },
  "dataset": {
    "path": "./data/ultrafeedback_dpo.jsonl",
    "split": "train",
    "max_samples": 100000
  },
  "training": {
    "train_batch_size": 128,
    "micro_train_batch_size": 4,
    "max_epochs": 3,
    "max_len": 1024,
    "learning_rate": 5e-07,
    "beta": 0.1
  },
  "optimization": {
    "zero_stage": 2,
    "adam_offload": true,
    "flash_attn": true,
    "gradient_checkpointing": true
  },
  "logging": {
    "save_path": "./checkpoint/llama3-8b-dpo-ultrafeedback",
    "save_steps": 500,
    "logging_steps": 10,
    "eval_steps": 200,
    "use_wandb": true,
    "wandb_project": "rto_dpo",
    "wandb_run_name": "llama3-8b-dpo-ultrafeedback"
  },
  "gpu": {
    "cuda_visible_devices": "0,1,2,3"
  }
}